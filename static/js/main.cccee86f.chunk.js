(this["webpackJsonpcovid19-v2"]=this["webpackJsonpcovid19-v2"]||[]).push([[0],{118:function(e,a,t){e.exports=t(242)},124:function(e,a,t){},129:function(e,a,t){},225:function(e,a,t){},226:function(e,a,t){},237:function(e,a,t){},238:function(e,a,t){},240:function(e,a,t){},241:function(e,a,t){},242:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(13),l=t.n(o),c=t(38),i=t(26),s=t.n(i),u=t(34),m=t(15),d=t(19),p=t(282),E=t(299),v=(t(124),function(e){var a=e.data,t=e.handlePopupClose;return r.a.createElement(E.a,{autoPan:!1,className:"infoPopup__popup",position:[a.countryInfo.lat,a.countryInfo.long],onClose:t},r.a.createElement("div",{className:"InfoPopup__popupContent"},r.a.createElement("div",{className:"infoPopup__header"},r.a.createElement("img",{src:a.countryInfo.flag,alt:"country flag",width:24}),r.a.createElement(p.a,{variant:"h6"},a.country)),r.a.createElement("div",{className:"infoPopup__row"},r.a.createElement(p.a,{variant:"subtitle2"},"Cases"),r.a.createElement(p.a,{variant:"subtitle2"},r.a.createElement(d.a,{value:a.cases,displayType:"text",thousandSeparator:!0}))),r.a.createElement("div",{className:"infoPopup__row"},r.a.createElement(p.a,{variant:"subtitle2"},"Recovered"),r.a.createElement(p.a,{variant:"subtitle2"},r.a.createElement(d.a,{value:a.recovered,displayType:"text",thousandSeparator:!0}))),r.a.createElement("div",{className:"infoPopup__row"},r.a.createElement(p.a,{variant:"subtitle2"},"Deaths"),r.a.createElement(p.a,{variant:"subtitle2"},r.a.createElement(d.a,{value:a.deaths,displayType:"text",thousandSeparator:!0})))))}),f=t(300),y=t(301),h=t(298),b=(t(128),t(129),function(e){var a=e.data,t=e.selectedCountry,o=e.mapZoom,l=e.setMapZoom,i=Object(n.useState)(null),s=Object(c.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)({center:[50,31]}),E=Object(c.a)(p,2),b=E[0],g=E[1];Object(n.useEffect)((function(){if(t){var e=t.countryInfo,a=e.lat,n=e.long;d(t),l(Object(m.a)(Object(m.a)({},o),{},{zoom:o.minZoom})),g({center:[a,n]})}}),[t]);return r.a.createElement("div",{className:"map__root"},r.a.createElement(f.a,{maxBoundsViscosity:1,maxBounds:[[-180,-1/0],[180,1/0]],worldCopyJump:!0,zoomControl:!1,onViewportChange:function(e){return function(e){e.zoom!==o.zoom&&l(Object(m.a)(Object(m.a)({},o),{},{zoom:e.zoom}))}(e)},center:b.center,minZoom:o.minZoom,maxZoom:o.maxZoom,zoom:o.zoom,animate:!0},r.a.createElement(y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),null===a||void 0===a?void 0:a.map((function(e){return r.a.createElement(h.a,{onClick:function(){!function(e){var a=e.countryInfo,t=a.lat,n=a.long;d(e),g(Object(m.a)(Object(m.a)({},b),{},{center:[t,n]}))}(e)},color:"#F66D55",key:e.country,center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.5,radius:Math.sqrt(6e3*e.cases*50)})})),u&&r.a.createElement(v,{data:u,handlePopupClose:function(){d(null)}})))}),g=t(286),x=t(36),_=t(44),w=t(73),C=t.n(w);t(225);_.defaults.global.defaultFontFamily="Roboto",_.defaults.global.defaultFontColor="Black";var O={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!0,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,a){return C()(e.value).format("0a")}}},scales:{xAxes:[{gridLines:{display:!1},type:"time",time:{tooltipFormat:"ll",unitStepSize:11,displayFormats:{day:"DD MMM",week:"DD MMM",month:"DD MMM",quarter:"DD MMM",year:"DD MMM"}}}],yAxes:[{gridLines:{display:!0},ticks:{callback:function(e,a){if(a%2!==0)return C()(e).format("0a")}}}]}},j=function(){var e=Object(u.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all");case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(t=e.sent)||!t.message){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",{labels:Object.keys(t.cases||t.timeline.cases),datasets:[{data:Object.values(t.cases||t.timeline.cases),fill:!0,backgroundColor:"rgba(239,100,88,0.5)",borderColor:"#EF6458",borderCapStyle:"butt",borderDash:[],pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)("graphData",j),a=e.data,t=e.status;return r.a.createElement("div",{className:"graph__root"},"loading"===t&&r.a.createElement(g.a,{variant:"rect",width:"100%",height:166}),a&&r.a.createElement(_.Line,{data:a||{},options:O}))},z=t(296),M=t(287),D=t(288),Z=t(297),N=t(294),P=t(105),k=t.n(P);t(226);N.a.addLocale(k.a);var I=function(){var e=Object(u.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/all");case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)("all",I),a=e.data,t=e.status;return r.a.createElement(z.a,{smDown:!0},r.a.createElement(M.a,{className:"casesCard__root"},r.a.createElement(D.a,null,r.a.createElement("div",{className:"casesCard__header"},r.a.createElement(p.a,{variant:"h5",color:"textPrimary"},"Cases worldwide"),"loading"===t&&r.a.createElement(g.a,null),a&&a.updated&&r.a.createElement(p.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Updated ",r.a.createElement(Z.a,{date:new Date(a.updated)}))),r.a.createElement("div",{className:"casesCard__container"},r.a.createElement("div",{className:"casesCard__dataGroup"},r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{value:a.cases,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Cases total")),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{prefix:"+",value:a.todayCases,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Cases today"))),r.a.createElement("div",{className:"casesCard__dataGroup"},r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{value:a.recovered,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Recovered total")),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{prefix:"+",value:a.todayRecovered,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Recovered today"))),r.a.createElement("div",{className:"casesCard__dataGroup"},r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{value:a.deaths,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Deaths total")),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"h6",color:"textPrimary"},"loading"===t&&r.a.createElement(g.a,null),a&&r.a.createElement(d.a,{prefix:"+",value:a.todayDeaths,displayType:"text",thousandSeparator:!0}),"error"===t&&"-"),r.a.createElement(p.a,{variant:"subtitle2",color:"textSecondary"},"loading"===t?r.a.createElement(g.a,null):"Deaths today")))),r.a.createElement(S,null))))},F=t(293),R=t(295),B=(t(237),function(e){var a=e.data,t=e.setSelectedCountry;return r.a.createElement(M.a,{className:"search__root"},r.a.createElement(R.a,{className:"search__autocomplete",options:a||[],onChange:function(e,a){return function(e,a){t(a)}(0,a)},autoHighlight:!0,getOptionLabel:function(e){return e.country||""},renderOption:function(e){return e.country},renderInput:function(e){return r.a.createElement(F.a,Object.assign({},e,{margin:"dense",label:"Choose a country",variant:"outlined",inputProps:Object(m.a)(Object(m.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}))}),L=t(290),A=t(291),G=t(109),H=t.n(G),J=t(108),q=t.n(J),V=(t(238),function(e){var a=e.mapZoom,t=e.setMapZoom;return r.a.createElement(z.a,{xsDown:!0},r.a.createElement(M.a,{className:"zoomControl__root"},r.a.createElement(L.a,{disabled:a.zoom===a.maxZoom,onClick:function(){t(Object(m.a)(Object(m.a)({},a),{},{zoom:a.zoom+1}))},"aria-label":"zoom in",size:"small"},r.a.createElement(q.a,null)),r.a.createElement(A.a,null),r.a.createElement(L.a,{disabled:a.zoom===a.minZoom,onClick:function(){t(Object(m.a)(Object(m.a)({},a),{},{zoom:a.zoom-1}))},"aria-label":"zoom out",size:"small"},r.a.createElement(H.a,null))))}),W=(t(240),function(e){var a=e.data,t=e.setSelectedCountry,n=e.mapZoom,o=e.setMapZoom;return r.a.createElement("div",{className:"layout__root"},r.a.createElement(V,{mapZoom:n,setMapZoom:o}),r.a.createElement(B,{data:a,setSelectedCountry:t}),r.a.createElement(T,null))}),U=t(302),K=t(292),Q=function(e){var a=e.status;return r.a.createElement(U.a,{style:{zIndex:9e3,display:"flex",flexDirection:"column"},open:"loading"===a},r.a.createElement(K.a,{style:{color:"white"}}),r.a.createElement(p.a,{variant:"h6",style:{color:"white",marginTop:"2rem"}},"Loading goodies.."))},X=function(e){var a=e.status;return r.a.createElement(U.a,{style:{zIndex:9e3,display:"flex",flexDirection:"column"},open:"error"===a},r.a.createElement("div",null,r.a.createElement(p.a,{align:"left",variant:"h3",style:{color:"white"}},"Aw, snap!"),r.a.createElement(p.a,{variant:"h6",style:{color:"white"}},"Something went wrong while displaying this site")))},Y=(t(241),function(){var e=Object(u.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries");case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());var $=function(){var e=Object(n.useState)(null),a=Object(c.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)({zoom:3,minZoom:3,maxZoom:18}),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Object(x.a)("countries",Y,{refetchOnWindowFocus:!1}),d=m.data,p=m.status;return r.a.createElement("div",{className:"app__root"},r.a.createElement(Q,{status:p}),r.a.createElement(X,{status:p}),r.a.createElement(W,{data:d,setSelectedCountry:o,mapZoom:s,setMapZoom:u}),r.a.createElement(b,{data:d,selectedCountry:t,mapZoom:s,setMapZoom:u}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.cccee86f.chunk.js.map